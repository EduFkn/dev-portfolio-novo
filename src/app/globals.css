@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: var(--font-inter), sans-serif;
}

@layer base {
  :root {
    /* Dark Theme (Default) - More Black/Gray, Less Purple */
    --background: 220 10% 4%; /* Dark Gray */
    --foreground: 0 0% 90%; /* Lighter Gray text for better contrast */

    --card: 220 10% 8%; /* Slightly lighter than background */
    --card-foreground: 0 0% 90%;

    --popover: 220 10% 6%; /* Darker popover */
    --popover-foreground: 0 0% 90%;

    --primary: 220 10% 75%; /* Light Gray for primary elements */
    --primary-foreground: 220 10% 10%; /* Dark text on light gray primary */

    --secondary: 220 10% 15%; /* Darker Gray for secondary elements */
    --secondary-foreground: 0 0% 85%;

    --muted: 220 10% 12%;
    --muted-foreground: 0 0% 55%; /* Softer muted text */

    --accent: 220 10% 50%; /* Medium Gray for accents */
    --accent-foreground: 0 0% 98%; /* Light text on medium gray accent */

    --destructive: 0 60% 50%; /* Standard destructive red */
    --destructive-foreground: 0 0% 98%;

    --border: 220 10% 18%; /* Slightly lighter border */
    --input: 220 10% 10%; /* Input background */
    --ring: 220 10% 60%; /* Ring color - a lighter gray */

    --radius: 0.5rem;

    --chart-1: 210 40% 96.1%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    --sidebar-background: 220 10% 7%;
    --sidebar-foreground: 0 0% 85%;
    --sidebar-primary: 220 10% 65%; /* Lighter Gray for sidebar primary */
    --sidebar-primary-foreground: 220 10% 10%;
    --sidebar-accent: 220 10% 45%; /* Medium Gray for sidebar accent */
    --sidebar-accent-foreground: 0 0% 95%;
    --sidebar-border: 220 10% 15%;
    --sidebar-ring: 220 10% 55%;
  }

  .light {
    --background: 0 0% 98%; /* Very light gray / white */
    --foreground: 220 10% 10%; /* Dark text */

    --card: 0 0% 100%; /* White */
    --card-foreground: 220 10% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 10% 10%;

    --primary: 220 20% 30%; /* Darker Gray for primary in light mode */
    --primary-foreground: 0 0% 98%; /* White text on dark gray primary */

    --secondary: 0 0% 94%; /* Light gray for secondary elements */
    --secondary-foreground: 220 10% 10%;

    --muted: 0 0% 90%;
    --muted-foreground: 0 0% 40%;

    --accent: 220 15% 50%; /* Medium Gray for accents in light mode */
    --accent-foreground: 0 0% 98%; /* Light text on accent */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 89.8%;
    --input: 0 0% 92%; /* Slightly lighter input for light mode */
    --ring: 220 20% 40%; /* Ring color for light mode */

    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    --sidebar-background: 0 0% 96%;
    --sidebar-foreground: 220 10% 20%;
    --sidebar-primary: 220 20% 35%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 220 15% 55%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 0 0% 88%;
    --sidebar-ring: 220 20% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    @apply transition-colors duration-300;
  }
  section {
    @apply py-20 md:py-28; /* Increased padding between sections */
  }
}

/* Page transition class */
.page-enter {
  opacity: 0;
  transform: translateY(10px);
}
.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 300ms ease-out, transform 300ms ease-out;
}
.page-exit {
  opacity: 1;
  transform: translateY(0);
}
.page-exit-active {
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 300ms ease-in, transform 300ms ease-in;
}

/* Infinite Marquee Animation */
.marquee {
  display: flex;
  overflow: hidden;
  user-select: none;
  gap: 1rem; /* Adjust gap as needed */
  mask-image: linear-gradient(
    to right,
    hsl(0 0% 0% / 0),
    hsl(0 0% 0% / 1) 10%,
    hsl(0 0% 0% / 1) 90%,
    hsl(0 0% 0% / 0)
  );
}

.marquee-content {
  flex-shrink: 0;
  display: flex;
  justify-content: space-around;
  min-width: 100%;
  gap: 1rem; /* Should match .marquee gap */
  animation: scroll var(--animation-duration, 20s) linear infinite;
}

.marquee-content-reverse {
  animation-direction: reverse;
}

@keyframes scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(calc(-100% - 1rem)); /* 1rem is the gap */
  }
}

/* Ensure enough content for smooth looping */
.marquee-content > * {
  flex-shrink: 0;
}

/* Preloader styles */
.preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: hsl(var(--background));
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  opacity: 1;
  transition: opacity 0.7s ease-out, visibility 0.7s ease-out;
  visibility: visible;
}

.preloader.hidden {
  opacity: 0;
  visibility: hidden;
}

.preloader-content {
  text-align: center;
}

.preloader-logo {
  font-family: 'Poppins', sans-serif;
  font-size: 2.5rem; /* Reduced size */
  font-weight: 900;
  color: hsl(var(--primary)); /* Uses new primary color */
  animation: flicker 1.5s infinite alternate, glitch 3s infinite alternate-reverse;
  margin-bottom: 1rem;
}

.preloader-text {
  font-family: 'Courier New', Courier, monospace;
  color: hsl(var(--accent)); /* Uses new accent color */
  font-size: 0.875rem; /* Reduced size */
  letter-spacing: 0.1em;
  text-transform: uppercase;
  opacity: 0;
  animation: fadeInText 1s ease-out 0.5s forwards, typing 3s steps(30, end) 0.5s infinite alternate;
}

@keyframes flicker {
  0%, 18%, 22%, 25%, 53%, 57%, 100% {
    text-shadow:
      0 0 4px hsl(var(--primary-foreground)),
      0 0 10px hsl(var(--primary-foreground)),
      0 0 18px hsl(var(--primary-foreground)),
      0 0 38px hsl(var(--primary)),
      0 0 70px hsl(var(--primary));
    opacity: 1;
  }
  20%, 24%, 55% { opacity: 0.8; text-shadow: none; }
}

@keyframes glitch {
  0% { transform: skewX(0deg); }
  5% { transform: skewX(2deg); }
  10% { transform: skewX(-2deg); }
  15% { transform: skewX(0deg); }
  100% { transform: skewX(0deg); }
}

@keyframes fadeInText {
  to { opacity: 1; }
}

@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

/* Skill Card specific colors for text */
.skill-card-html { color: #E44D26; }
.skill-card-css { color: #1572B6; }
.skill-card-js { color: #F7DF1E; }
.skill-card-react { color: #61DAFB; }
.skill-card-nextjs { color: hsl(var(--foreground)); }
.skill-card-ts { color: #3178C6; }
.skill-card-node { color: #339933; }
.skill-card-tailwind { color: #06B6D4; }
.skill-card-mongo { color: #47A248; }
.skill-card-postgres { color: #336791; }
.skill-card-docker { color: #2496ED; }
.skill-card-git { color: #F05032; }
.skill-card-github { color: hsl(var(--foreground)); }
.skill-card-n8n { color: #FF4F4F; }
.skill-card-chatbots { color: #8A2BE2; }


/* Skill Card syntax highlighting style */
.skill-card-tag { color: #ec4899; } /* pink-500 */
.skill-card-bracket { color: #a1a1aa; } /* zinc-500 */
.skill-card-value { color: #38bdf8; } /* lightBlue-400 */
.skill-card-prop { color: #a78bfa; } /* violet-400 */

/* For horizontal scroll in skills section */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Skill Progress Bar specific styles */
.skill-progress-bar {
  @apply h-2 w-full rounded-full mt-1.5 bg-opacity-10;
  background-color: rgba(var(--muted-rgb), 0.1); /* Using muted color with opacity */
}
.skill-progress-per {
  @apply relative block h-full rounded-full;
  background-color: hsl(var(--primary)); /* Use primary color from theme */
  animation: progress-anim 0.6s ease-in-out forwards;
  opacity: 0;
}
@keyframes progress-anim {
  0% {
    width: 0;
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
.skill-progress-tooltip {
  @apply absolute -top-7 text-xs font-medium text-primary-foreground py-0.5 px-1.5 rounded;
  background-color: hsl(var(--primary)); /* Use primary color from theme */
  right: -14px; /* Adjust if necessary for centering on bar end */
  transform: translateX(50%); /* Center tooltip relative to its own width */
}
.skill-progress-tooltip::before {
  content: '';
  @apply absolute w-2.5 h-2.5 -bottom-1 left-1/2 transform -translate-x-1/2 rotate-45;
  background-color: hsl(var(--primary)); /* Use primary color from theme */
  z-index: -1;
}

/* Ensure --muted-rgb is defined (example if not directly in :root) */
:root {
  /* Assuming --muted: 220 10% 12%; */
  --muted-rgb: 28, 30, 36; /* RGB for 220 10% 12% for fallback */
}
.light {
  /* Assuming --muted: 0 0% 90%; */
  --muted-rgb: 230, 230, 230; /* RGB for 0 0% 90% for fallback */
}

/* Ensure primary HSL is available for JS if needed, though CSS vars are preferred */
html {
  --primary-hsl: var(--primary); 
}

